<!DOCTYPE html>
<html>
<head>
  <title>Instagram Network Visualization</title>
  <script src="https://cdn.jsdelivr.net/npm/sigma@2.0.0/build/sigma.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sigma@2.0.0/build/plugins/sigma.parsers.gexf.min.js"></script>
  <style>
    #graph-container {
      width: 100%;
      height: 600px;
      border: 1px solid #ccc;
    }
    .controls {
      margin: 10px 0;
      padding: 10px;
      background: #f5f5f5;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>Instagram Network Visualization</h1>
  <div class="controls">
    <button id="zoomIn">Zoom In</button>
    <button id="zoomOut">Zoom Out</button>
    <button id="resetView">Reset View</button>
    <select id="graphSelect">
      <option value="Subset.gexf">Subset Graph</option>
      <option value="Full_graph.gexf">Full Graph</option>
    </select>
  </div>
  <div id="graph-container"></div>
  
  <script>
    let sigmaInstance;
    
    function loadGraph(file) {
      if (sigmaInstance) {
        sigmaInstance.kill();
      }
      
      sigma.parsers.gexf(
        file, 
        { 
          container: 'graph-container',
          settings: {
            defaultNodeColor: '#3498db',
            defaultEdgeColor: '#ccc',
            edgeColor: 'default',
            labelSize: 'proportional',
            labelSizeRatio: 1.5,
            labelThreshold: 5,
            minNodeSize: 2,
            maxNodeSize: 15
          }
        },
        function(s) {
          sigmaInstance = s;
        }
      );
    }
    
    // Initial load
    loadGraph('Subset.gexf');
    
    // Event listeners
    document.getElementById('graphSelect').addEventListener('change', function() {
      loadGraph(this.value);
    });
    
    document.getElementById('zoomIn').addEventListener('click', function() {
      if (sigmaInstance) {
        sigmaInstance.camera.goTo({ratio: sigmaInstance.camera.ratio / 1.5});
      }
    });
    
    document.getElementById('zoomOut').addEventListener('click', function() {
      if (sigmaInstance) {
        sigmaInstance.camera.goTo({ratio: sigmaInstance.camera.ratio * 1.5});
      }
    });
    
    document.getElementById('resetView').addEventListener('click', function() {
      if (sigmaInstance) {
        sigmaInstance.camera.goTo({x: 0, y: 0, ratio: 1});
      }
    });
  </script>
</body>
</html>
